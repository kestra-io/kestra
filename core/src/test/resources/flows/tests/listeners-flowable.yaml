id: listeners-flowable
namespace: io.kestra.tests

inputs:
  - name: string
    type: STRING

listeners:
  - tasks:
      - id: parent-seq
        type: io.kestra.core.tasks.flows.Switch
        value: "{{inputs.string}}"
        cases:
          flow:
            - id: flow
              type: io.kestra.core.tasks.debugs.Return
              format: "{{flow.revision}}"
          execution:
            - id: execution
              type: io.kestra.core.tasks.debugs.Return
              format: "{{execution.taskRunList.1.id}}"

tasks:
  - id: first
    type: io.kestra.core.tasks.debugs.Return
    format: "{{task.id}} > {{taskrun.startDate}}"
